namespace SpriteKind {
    export const coin = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    current_level += 1
    startlevel()
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jellyfish.vy == 0) {
        jellyfish.vy = -175
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
function startlevel () {
    if (current_level == 0) {
        tiles.setTilemap(tiles.createTilemap(hex`5000140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010101010101000000000000000000000000000000040000000000000000000101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010001000100000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000001010000000000000000000001010000000000000000000000000000000000000000000000000000000000000001010101010100000000000000000000000000000000000000000000000000000001000000000000000000010101000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000040001010000000000000000000000000000000000000000000000000000040000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000001000000000000000000000000040001000000000000000000000000000000000000000000000000000000000000000101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010100000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202`, img`
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            222222222.........................222...........................................
            ......................2.2.2.....................................................
            ...................22..........22...............................222222..........
            .................2.........222................................2.................
            ...............22...........................................2...................
            .............2.............................2..............2.....................
            ..........222...........................................2.......................
            ......................................2222............2.........................
            ....................................................2...........................
            ..................................................2.............................
            ..............................................222...............................
            ................................................................................
            ................................................................................
            ................................................................................
            ................................................................................
            `, [myTiles.transparency16,sprites.castle.rock2,myTiles.tile1,myTiles.tile2,myTiles.tile3], TileScale.Sixteen))
    } else {
        tiles.setTilemap(tiles.createTilemap(hex`320010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000004000404040400000000000300000000000000000000000000000000000000000000000404040404040404000000000003000000000000000000000000040000000000000000000000020000000000000000000000000000000000000000000000040400000000000000000000000000000000000000000004040404000000000000000000000000000000000000000000000000000000000000000000040404000000000000000003000000000000000000000000000000000000000000000000000404000000000000000000000000000000000000000000040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101`, img`
            ..................................................
            ..................................................
            ...............2..................................
            ..................................................
            ..........2222....................................
            ...............2.2222.............................
            22222222..................2.......................
            ............22.....................2222...........
            ......................222.........................
            .........22.....................222...............
            ..................................................
            .............................222..................
            ..................................................
            ..................................................
            ..................................................
            ..................................................
            `, [myTiles.transparency16,myTiles.tile1,myTiles.tile2,myTiles.tile3,sprites.castle.rock2], TileScale.Sixteen))
    }
    jellyfish.ay = 350
    scene.cameraFollowSprite(jellyfish)
    for (let value of tiles.getTilesByType(myTiles.tile3)) {
        coin = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f f . . . . 
            . . . f 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 5 5 5 5 5 5 5 5 5 f . . 
            . . f 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 5 f . 
            . f 5 5 5 5 5 5 5 5 5 5 5 5 f . 
            . f 5 5 5 5 5 5 5 5 5 5 5 5 f . 
            . f 5 5 5 5 5 5 5 5 5 5 5 5 f . 
            . . f 5 5 5 5 5 5 5 5 5 5 f . . 
            . . f 5 5 5 5 5 5 5 5 5 5 f . . 
            . . . f 5 5 5 5 5 5 5 5 f . . . 
            . . . . f f f f f f f f . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.coin)
        tiles.placeOnTile(coin, value)
        tiles.setTileAt(value, myTiles.transparency16)
        info.setLife(3)
    }
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    game.over(false, effects.melt)
})
let coin: Sprite = null
let jellyfish: Sprite = null
let current_level = 0
scene.setBackgroundColor(7)
effects.confetti.startScreenEffect()
current_level = 0
startlevel()
jellyfish = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . 3 3 . . . . . . . 
    . . . . . 3 3 3 3 3 3 . . . . . 
    . . . . 3 3 3 3 3 3 3 3 . . . . 
    . . . . 3 . 3 . . 3 . 3 . . . . 
    . . . 3 . . . 3 . . 3 . . . . . 
    . . . . 3 . 3 . . 3 . 3 . . . . 
    . . . 3 . . . 3 . . 3 . . . . . 
    . . . . 3 . 3 . . 3 . 3 . . . . 
    . . . 3 . . . 3 . . 3 . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(jellyfish, 100, 0)
